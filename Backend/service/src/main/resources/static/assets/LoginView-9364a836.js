import{_ as g,s as h,u as v,r as p,k as f,o as w,c as y,b as o,i as S,e as u,v as d,F as b,p as L,a as V}from"./index-bbd81c60.js";const _=a=>(L("data-v-cc82a231"),a=a(),V(),a),k=_(()=>o("div",{class:"login-bg"},null,-1)),I={class:"log"},T={class:"login-container"},U={class:"logo-container"},x=["onSubmit"],q=_(()=>o("button",{type:"submit"},"Login",-1)),B={__name:"LoginView",setup(a){const c=h(),r=v(),l=p(""),i=p("");f(()=>{r.getLogin&&c.push({path:"student"})});const m=()=>{var n=new Headers;n.append("Content-Type","application/json");var s=JSON.stringify({UserName:l.value,PassWord:i.value}),t={method:"POST",headers:n,body:s,redirect:"follow",credentials:"include"};fetch("http://localhost:8080/api/auth/",t).then(e=>e.json()).then(e=>{e.status==!0?(console.log(e),console.log(r.getLogin),r.login(),c.push({path:e.type})):(console.log(e),alert(e.message))}).catch(e=>console.log("error",e)),console.log(document.cookie)};return(n,s)=>(w(),y(b,null,[k,o("div",I,[o("div",T,[o("div",U,[o("img",{onClick:s[0]||(s[0]=(...t)=>n.test&&n.test(...t)),src:"https://cdn.discordapp.com/attachments/1156502394201448478/1168215081658626068/Thammasat_Horz_logo_route1_01.png",alt:"Thammasat University Logo"})]),o("form",{class:"login-form",onSubmit:S(m,["prevent"])},[u(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value=t),type:"text",id:"username",placeholder:"Username",autocomplete:"username",required:""},null,512),[[d,l.value]]),u(o("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),type:"password",id:"password",placeholder:"Password",autocomplete:"current-password",required:""},null,512),[[d,i.value]]),q],40,x)])])],64))}},M=g(B,[["__scopeId","data-v-cc82a231"]]);export{M as default};
