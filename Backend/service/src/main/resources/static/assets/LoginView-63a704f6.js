import{x as g,u as h,r as p,B as v,o as f,c as w,b as o,i as y,e as u,v as d,F as S,p as b,a as L}from"./index-63c2cf6c.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const m=a=>(b("data-v-cc82a231"),a=a(),L(),a),x=m(()=>o("div",{class:"login-bg"},null,-1)),I={class:"log"},T={class:"login-container"},U={class:"logo-container"},k=["onSubmit"],B=m(()=>o("button",{type:"submit"},"Login",-1)),q={__name:"LoginView",setup(a){const c=g(),r=h(),i=p(""),l=p("");v(()=>{r.getLogin&&c.push({path:"student"})});const _=()=>{var n=new Headers;n.append("Content-Type","application/json");var s=JSON.stringify({UserName:i.value,PassWord:l.value}),t={method:"POST",headers:n,body:s,redirect:"follow",credentials:"include"};fetch("http://localhost:8080/api/auth/",t).then(e=>e.json()).then(e=>{e.status==!0?(console.log(e),console.log(r.getLogin),r.login(),c.push({path:e.type})):(console.log(e),alert(e.message))}).catch(e=>console.log("error",e)),console.log(document.cookie)};return(n,s)=>(f(),w(S,null,[x,o("div",I,[o("div",T,[o("div",U,[o("img",{onClick:s[0]||(s[0]=(...t)=>n.test&&n.test(...t)),src:"https://cdn.discordapp.com/attachments/1156502394201448478/1168215081658626068/Thammasat_Horz_logo_route1_01.png",alt:"Thammasat University Logo"})]),o("form",{class:"login-form",onSubmit:y(_,["prevent"])},[u(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t),type:"text",id:"username",placeholder:"Username",autocomplete:"username",required:""},null,512),[[d,i.value]]),u(o("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>l.value=t),type:"password",id:"password",placeholder:"Password",autocomplete:"current-password",required:""},null,512),[[d,l.value]]),B],40,k)])])],64))}},N=V(q,[["__scopeId","data-v-cc82a231"]]);export{N as default};
